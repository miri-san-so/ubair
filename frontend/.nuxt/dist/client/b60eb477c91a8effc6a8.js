(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{154:function(t,e,n){"use strict";var r=n(3),o=n(17),c=n(20),d=n(106),l=n(62),f=n(9),m=n(43).f,v=n(63).f,h=n(8).f,_=n(155).trim,w=r.Number,y=w,k=w.prototype,x="Number"==c(n(77)(k)),C="trim"in String.prototype,I=function(t){var e=l(t,!1);if("string"==typeof e&&e.length>2){var n,r,o,c=(e=C?e.trim():_(e,3)).charCodeAt(0);if(43===c||45===c){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===c){switch(e.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+e}for(var code,d=e.slice(2),i=0,f=d.length;i<f;i++)if((code=d.charCodeAt(i))<48||code>o)return NaN;return parseInt(d,r)}}return+e};if(!w(" 0o1")||!w("0b1")||w("+0x1")){w=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof w&&(x?f((function(){k.valueOf.call(n)})):"Number"!=c(n))?d(new y(I(e)),n,w):I(e)};for(var S,N=n(7)?m(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;N.length>E;E++)o(y,S=N[E])&&!o(w,S)&&h(w,S,v(y,S));w.prototype=k,k.constructor=w,n(10)(r,"Number",w)}},155:function(t,e,n){var r=n(6),o=n(21),c=n(9),d=n(156),l="["+d+"]",f=RegExp("^"+l+l+"*"),m=RegExp(l+l+"*$"),v=function(t,e,n){var o={},l=c((function(){return!!d[t]()||"‚Äã¬Ö"!="‚Äã¬Ö"[t]()})),f=o[t]=l?e(h):d[t];n&&(o[n]=f),r(r.P+r.F*l,"String",o)},h=v.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(f,"")),2&e&&(t=t.replace(m,"")),t};t.exports=v},156:function(t,e){t.exports="\t\n\v\f\r ¬†·öÄ·†é‚ÄÄ‚ÄÅ‚ÄÇ‚ÄÉ‚ÄÑ‚ÄÖ‚ÄÜ‚Äá‚Äà‚Äâ‚Ää‚ÄØ‚Åü„ÄÄ\u2028\u2029\ufeff"},160:function(t,e,n){var content=n(183);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(42).default)("e617de52",content,!0,{sourceMap:!1})},161:function(t,e,n){var content=n(185);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(42).default)("5e5bcdba",content,!0,{sourceMap:!1})},162:function(t,e,n){var content=n(187);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(42).default)("344ee8d4",content,!0,{sourceMap:!1})},182:function(t,e,n){"use strict";var r=n(160);n.n(r).a},183:function(t,e,n){(e=n(41)(!1)).push([t.i,"@import url(https://fonts.googleapis.com/css?family=Inter&display=swap);"]),e.push([t.i,".loading[data-v-2dda2367]{width:100%;height:calc(85vh - 1rem);display:flex;flex-direction:column;justify-content:space-evenly;align-items:center;font-family:Inter,sans-serif}.spinner[data-v-2dda2367]{-webkit-animation:spin-data-v-2dda2367 2.3s ease-in-out infinite;animation:spin-data-v-2dda2367 2.3s ease-in-out infinite;transform-origin:center}.info[data-v-2dda2367]{height:20%;display:flex;font-size:1.2em;flex-direction:column;justify-content:space-between;align-items:center}.text[data-v-2dda2367]{letter-spacing:.35rem;font-size:.6em}.cancel[data-v-2dda2367]{background-color:red;border-radius:2rem;border:none;padding:.15rem;align-items:center;cursor:pointer}.cancel[data-v-2dda2367]:focus{outline:none}@-webkit-keyframes spin-data-v-2dda2367{0%{transform:rotate(0deg)}50%{transform:rotate(1turn)}to{transform:rotate(0deg)}}@keyframes spin-data-v-2dda2367{0%{transform:rotate(0deg)}50%{transform:rotate(1turn)}to{transform:rotate(0deg)}}",""]),t.exports=e},184:function(t,e,n){"use strict";var r=n(161);n.n(r).a},185:function(t,e,n){(e=n(41)(!1)).push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Inter:wght@600;700&family=Montserrat:ital,wght@0,700;1,500&display=swap);"]),e.push([t.i,"*[data-v-36d1242c]{font-family:Inter,sans-serif}.red[data-v-36d1242c]{background-color:#cd5c5c;font-weight:400}.slidecontainer[data-v-36d1242c]{width:100%}h1[data-v-36d1242c]{font-weight:700}.slider[data-v-36d1242c]{-webkit-appearance:none;width:calc(100vw - 4rem);height:.1rem;border-radius:5px;background:#fff;outline:none;opacity:.7;transition:opacity .2s;padding-left:.5rem;padding-right:.5rem;margin-bottom:3rem;margin-top:2rem}.slider[data-v-36d1242c]:hover{opacity:1}.slider[data-v-36d1242c]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:1rem;height:1rem;background:#fff;cursor:pointer;border-radius:.5rem}.slider[data-v-36d1242c]::-moz-range-thumb{width:25px;height:25px;background:#fff;cursor:pointer}svg[data-v-36d1242c]{transform:translateY(3px);margin-left:1rem}.recv[data-v-36d1242c]{margin-top:2rem;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.green[data-v-36d1242c]{background-color:#00ff85;color:#000!important}span[data-v-36d1242c]{padding:.5rem 1rem;border-radius:1rem;font-size:.7rem;border:1px solid #4c4c4c;font-weight:500;font-family:Montserrat,sans-serif;margin-bottom:2rem}.info[data-v-36d1242c]{padding:0 2rem;height:calc(85vh - 1rem);display:grid;grid-template-rows:1fr 1.5fr 2fr .5fr 1fr;grid-gap:1rem;gap:1rem}.payment-request[data-v-36d1242c]{width:100%;display:flex;justify-content:center;align-items:center}.payment-info[data-v-36d1242c]{display:grid}.rating_text[data-v-36d1242c]{font-size:1rem;border-radius:2.5rem;padding:1rem 2rem;align-self:center;opacity:0;-webkit-animation:slideup-data-v-36d1242c .3s ease-in-out forwards;animation:slideup-data-v-36d1242c .3s ease-in-out forwards}h3[data-v-36d1242c]{font-family:Montserrat,sans-serif;font-size:.6rem;font-weight:500;letter-spacing:.5em}.rating[data-v-36d1242c]{width:100%;display:flex;flex-direction:column;justify-content:center}button[data-v-36d1242c]{font-family:Montserrat,sans-serif;width:-webkit-max-content!important;width:-moz-max-content!important;width:max-content!important;padding:1rem 1.5rem;background-color:#00ff85;border:1px solid #4c4c4c;color:#000;font-weight:500;text-align:center;border-radius:5px;justify-self:self-end;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;grid-row:5}button[data-v-36d1242c]:disabled{-webkit-filter:grayscale(50);filter:grayscale(50)}.btn[data-v-36d1242c]{transition:finite .3s ease-in-out}@-webkit-keyframes slideup-data-v-36d1242c{0%{opacity:0;margin-left:-50px}to{opacity:1;margin-left:0}}@keyframes slideup-data-v-36d1242c{0%{opacity:0;margin-left:-50px}to{opacity:1;margin-left:0}}",""]),t.exports=e},186:function(t,e,n){"use strict";var r=n(162);n.n(r).a},187:function(t,e,n){(e=n(41)(!1)).push([t.i,"@import url(https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Montserrat&display=swap);"]),e.push([t.i,".notification[data-v-c46bfba4]{margin:1em 0;background:#00ff85;padding:1em;text-align:center;position:absolute;bottom:1rem;left:50%;transform:translateX(-50%);width:90%;-webkit-animation:sad-data-v-c46bfba4 3s ease-in-out forwards;animation:sad-data-v-c46bfba4 3s ease-in-out forwards;color:#000;font-weight:700}@-webkit-keyframes sad-data-v-c46bfba4{0%{opacity:0;bottom:0}30%{opacity:1;bottom:1rem}80%{opacity:1;bottom:1rem}to{opacity:0;bottom:0}}@keyframes sad-data-v-c46bfba4{0%{opacity:0;bottom:0}30%{opacity:1;bottom:1rem}80%{opacity:1;bottom:1rem}to{opacity:0;bottom:0}}*[data-v-c46bfba4]{margin:0;padding:0;box-sizing:border-box}input[data-v-c46bfba4]{background-color:transparent;border:none}input[data-v-c46bfba4]:focus{border:none;outline:none}.start[data-v-c46bfba4]{width:100%;border:1px solid grey;color:grey;margin-bottom:1em;padding:.6rem;text-align:center;transition:all .3s ease-in-out;display:flex;justify-content:center;align-items:center;height:-webkit-min-content;height:-moz-min-content;height:min-content;opacity:0;-webkit-animation:slide_in-data-v-c46bfba4 .4s ease-in-out 1.5s forwards;animation:slide_in-data-v-c46bfba4 .4s ease-in-out 1.5s forwards}.control[data-v-c46bfba4]{grid-row:7}.started[data-v-c46bfba4]{background-color:#00ff85;color:#1d0c0c;transition:all .3s ease-in-out}.cancel[data-v-c46bfba4]{background-color:#ff3a3a;color:#fff;width:100%;padding:.8rem;font-weight:700;letter-spacing:.1em;font-size:1rem;height:-webkit-min-content;height:-moz-min-content;height:min-content;opacity:0;-webkit-animation:slide_in-data-v-c46bfba4 .4s ease-in-out 1.8s forwards;animation:slide_in-data-v-c46bfba4 .4s ease-in-out 1.8s forwards}.margin-top[data-v-c46bfba4]{margin-top:1rem}h1[data-v-c46bfba4]{font-family:Montserrat;font-size:.8em;font-weight:lighter;letter-spacing:.25em;margin-bottom:1em;padding-left:1em;border-left:1px solid #00ff85;opacity:0;-webkit-animation:slide_right-data-v-c46bfba4 .4s ease-in-out forwards;animation:slide_right-data-v-c46bfba4 .4s ease-in-out forwards}.Info[data-v-c46bfba4]{padding:0 2rem;font-family:Inter,sans-serif;height:calc(85vh - 1rem);display:grid;grid-template-rows:.05fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr}.driver[data-v-c46bfba4]{opacity:0;-webkit-animation:slide_in-data-v-c46bfba4 .5s ease-in-out .2s forwards;animation:slide_in-data-v-c46bfba4 .5s ease-in-out .2s forwards;margin-bottom:1em}h2[data-v-c46bfba4]{font-size:2em}.location[data-v-c46bfba4]{opacity:0;-webkit-animation:slide_in-data-v-c46bfba4 .4s ease-in-out .5s forwards;animation:slide_in-data-v-c46bfba4 .4s ease-in-out .5s forwards;padding:0;font-weight:lighter}.plate[data-v-c46bfba4]{opacity:0;-webkit-animation:slide_in-data-v-c46bfba4 .4s ease-in-out 1s forwards;animation:slide_in-data-v-c46bfba4 .4s ease-in-out 1s forwards}.plate-span[data-v-c46bfba4]{background-color:#ff0;color:#000;font-weight:700;padding:.3em .5em}h5[data-v-c46bfba4]{margin-bottom:1em;margin-top:2em}span[data-v-c46bfba4]{font-weight:lighter;font-weight:400}@-webkit-keyframes slide_in-data-v-c46bfba4{0%{transform:translateY(.8rem);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes slide_in-data-v-c46bfba4{0%{transform:translateY(.8rem);opacity:0}to{transform:translateY(0);opacity:1}}@-webkit-keyframes slide_right-data-v-c46bfba4{0%{opacity:0;transform:translateX(-.8rem)}to{opacity:1;transform:translateX(0)}}@keyframes slide_right-data-v-c46bfba4{0%{opacity:0;transform:translateX(-.8rem)}to{opacity:1;transform:translateX(0)}}",""]),t.exports=e},216:function(t,e,n){"use strict";n.r(e);var r={head:{script:[{src:"https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.js"}]},props:{sock:{type:Object}},methods:{closeSocket:function(){this.sock.disconnect();var t=new Headers;t.append("Authorization","Bearer "+JSON.parse(localStorage.data).token),fetch("http://localhost:4001/stop",{method:"DELETE",headers:t,redirect:"follow"}).then((function(t){return t.text()})).then((function(t){return console.log(t)})).catch((function(t){return console.log("error",t)}))}}},o=(n(182),n(13)),c=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loading"},[n("div",{staticClass:"info"},[n("div",[n("svg",{staticClass:"spinner",attrs:{width:"43",height:"43",viewBox:"0 0 43 43",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M33.8898 7.12678C23.5072 5.61201 16.4276 20.0584 14.1857 27.471L40.9372 25.8502C42.9141 20.2402 44.2723 8.64154 33.8898 7.12678Z",stroke:"white"}}),t._v(" "),n("path",{attrs:{d:"M35.8734 33.8895C37.3881 23.5069 22.9417 16.4274 15.5292 14.1854L17.1499 40.937C22.7599 42.9139 34.3586 44.2721 35.8734 33.8895Z",stroke:"white"}}),t._v(" "),n("path",{attrs:{d:"M33.8898 35.8735C23.5072 37.3883 16.4276 22.9419 14.1857 15.5293L40.9372 17.1501C42.9141 22.7601 44.2723 34.3587 33.8898 35.8735Z",stroke:"white"}}),t._v(" "),n("path",{attrs:{d:"M7.12678 33.8895C5.61201 23.5069 20.0584 16.4274 27.471 14.1854L25.8502 40.937C20.2402 42.9139 8.64154 44.2721 7.12678 33.8895Z",stroke:"white"}}),t._v(" "),n("path",{attrs:{d:"M9.11088 6.50013C19.4934 4.98537 26.573 19.4318 28.8149 26.8443L2.06344 25.2236C0.0865138 19.6136 -1.27169 8.01489 9.11088 6.50013Z",stroke:"white"}}),t._v(" "),n("path",{attrs:{d:"M36.5003 9.11094C38.0151 19.4935 23.5687 26.5731 16.1561 28.815L17.7769 2.0635C23.3869 0.0865748 34.9856 -1.27163 36.5003 9.11094Z",stroke:"white"}}),t._v(" "),n("path",{attrs:{d:"M9.11088 36.5001C19.4934 38.0149 26.573 23.5685 28.8149 16.156L2.06344 17.7767C0.0865138 23.3867 -1.27169 34.9854 9.11088 36.5001Z",stroke:"white"}}),t._v(" "),n("path",{attrs:{d:"M6.50031 9.11094C4.98555 19.4935 19.4319 26.5731 26.8445 28.815L25.2237 2.0635C19.6138 0.0865761 8.01508 -1.27163 6.50031 9.11094Z",stroke:"white"}})])]),t._v(" "),n("h3",{staticClass:"text"},[t._v("SEARCHING FOR DRIVERS")])]),t._v(" "),n("nuxt-link",{staticClass:"cancel",attrs:{to:"/ride"}},[n("svg",{attrs:{width:"52",height:"52",viewBox:"0 0 52 52",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M14.6673 14.6672L38.0018 38.0017M38.0018 14.6672L14.6673 38.0017",stroke:"white","stroke-width":"3","stroke-linecap":"round"}})])])],1)}),[],!1,null,"2dda2367",null).exports,d=(n(154),{name:"PassengerCompletedTrip.vue",data:function(){return{rating_value:null,is_received:!1,tripFare:0}},props:{socket:{type:Object},driverInfo:{type:Object},trip:{type:Object}},methods:{exit:function(){var t=this;this.socket.disconnect();var e=new Headers;e.append("Authorization","Bearer "+JSON.parse(localStorage.data).token),e.append("Content-Type","application/json");var n=JSON.stringify({phone_number:this.driverInfo.driver.phone_number,rating_value:Number(this.rating_value)});fetch("http://localhost:4002/rating",{method:"POST",headers:e,body:n,redirect:"follow"}).then((function(t){return t.text()})).then((function(e){return t.$router.push({path:"/ride"})})).catch((function(t){return console.log("error",t)}))},ratingVal:function(t){this.rating_value=t.target.value}},mounted:function(){var t=this;this.socket.on("received",(function(data){1==data&&(document.querySelector(".recv").className+=" green",console.log("[ recieved ] : ",data),t.is_received=!0)}))}}),l=(n(184),Object(o.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"info"},[t._m(0),t._v(" "),n("div",{staticClass:"payment-info"},[n("h3",[t._v("TRIP COMPLETED")]),t._v(" "),null==t.trip.cancelFare?n("h1",[t._v("\n      Rs. "+t._s((t.trip.trip_distance/1e3*17).toFixed(2))+"\n    ")]):t._e(),t._v(" "),null!=t.trip.cancelFare?n("h1",[t._v("Rs. "+t._s(t.trip.cancelFare))]):t._e(),t._v(" "),0==t.is_received?n("span",{staticClass:"recv red"},[t._v("\n      Not Recieved Yet\n    ")]):t._e(),t._v(" "),1==t.is_received?n("span",{staticClass:"recv green"},[t._v("\n      Money is Recieved\n    ")]):t._e()]),t._v(" "),n("div",{staticClass:"rating"},[n("h3",[t._v("RATE DRIVER")]),t._v(" "),n("div",[n("input",{staticClass:"slider",attrs:{disabled:!t.is_received,type:"range",min:"1",max:"5",value:"1",id:"rating"},on:{change:t.ratingVal}}),t._v(" "),1==t.rating_value?n("span",{staticClass:"rating_text"},[t._v("üò≠ ¬† Really Bad")]):t._e(),t._v(" "),2==t.rating_value?n("span",{staticClass:"rating_text"},[t._v("üòî ¬† Not So Good")]):t._e(),t._v(" "),3==t.rating_value?n("span",{staticClass:"rating_text"},[t._v("üòê ¬† Ok")]):t._e(),t._v(" "),4==t.rating_value?n("span",{staticClass:"rating_text"},[t._v("üòÑ ¬† Good")]):t._e(),t._v(" "),5==t.rating_value?n("span",{staticClass:"rating_text"},[t._v("üòù ¬† Awesome")]):t._e()])]),t._v(" "),n("button",{staticClass:"btn",attrs:{disabled:!t.is_received},on:{click:t.exit}},[t._v("\n    EXIT\n    "),n("svg",{attrs:{width:"10",height:"13",viewBox:"0 0 10 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M1 1L8.5 7L1 12.5",stroke:"black"}})])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"payment-request"},[e("span",[this._v("Please Pay The Money To The Driver")])])}],!1,null,"36d1242c",null).exports),f={name:"DisplayDriverInfo",props:{driverInfo:{type:Object},socket:{type:Object}},components:{PassengerCompletedTrip:l},data:function(){return{notif:!1,notif_msg:"",tripStarted:!1,tripCompleted:!1,received:!1,cancelFare:"",trip:{}}},methods:{copyNumber:function(){var t=this,e=document.getElementById("phn");e.select(),e.setSelectionRange(0,99999),document.execCommand("copy"),this.notif=!0,setTimeout((function(){return t.notif=!1}),2e3),this.notif_msg="Copied the Phone Number"},exit:function(){var t=JSON.parse(localStorage.data).phone_number;this.socket.emit("cancelByPassenger",t,!0)}},mounted:function(){var t=this;this.socket.on("started",(function(data){1==data&&(t.tripStarted=data,window.navigator.vibrate(300))})),this.socket.on("completed",(function(data,e){console.log("completed"),1==data&&(t.trip=e,t.tripCompleted=data,window.navigator.vibrate([300,300]))})),this.socket.on("tripData",(function(data){console.log("drop it...",data),t.trip=data}))}},m=(n(186),{head:{script:[{src:"https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.js"}]},methods:{removeFromQueue:function(){var t=new Headers;t.append("Authorization","Bearer "+JSON.parse(localStorage.data).token),fetch("http://localhost:4001/stop",{method:"DELETE",headers:t,redirect:"follow"}).then((function(t){return t.text()})).then((function(t){return console.log(t)})).catch((function(t){return console.log("error",t)}))},getRideId:function(){var t=this,e=new Headers;e.append("Authorization","Bearer "+JSON.parse(localStorage.data).token),fetch("http://localhost:4001/rideId",{method:"POST",headers:e,redirect:"follow"}).then((function(t){return t.text()})).then((function(e){t.id=JSON.parse(e)._id,t.phone_number=JSON.parse(e).phone_number})).catch((function(t){return console.log("error",t)}))}},data:function(){return{socket:{type:Object},id:"",phone_number:0,driverConnected:!1,driverInfo:{}}},components:{Loading:c,DisplayDriverInfo:Object(o.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[1==t.tripCompleted?n("div",[n("PassengerCompletedTrip",{attrs:{trip:t.trip,socket:t.socket,driverInfo:t.driverInfo}})],1):t._e(),t._v(" "),0==t.tripCompleted?n("div",{staticClass:"Info"},[1==t.notif?n("span",{staticClass:"notification"},[t._v(t._s(t.notif_msg))]):t._e(),t._v(" "),n("h1",[t._v("YOUR DRIVER")]),t._v(" "),n("div",{staticClass:"driver"},[n("h2",[t._v(t._s(t.driverInfo.driver.name))]),t._v(" "),n("input",{attrs:{readonly:"",id:"phn"},domProps:{value:t.driverInfo.driver.phone_number},on:{click:t.copyNumber}})]),t._v(" "),n("div",{staticClass:"location"},[n("h5",[t._v("\n        Currently At :\n        "),n("span",[t._v(t._s(t.driverInfo.locationInfo.address.label))])]),t._v(" "),n("h5",[t._v("\n        Vehice : "),n("span",[t._v(t._s(t.driverInfo.carInfo.vehicle))])])]),t._v(" "),n("div",{staticClass:"plate"},[n("h5",[t._v("\n        License Plate :\n        "),n("span",{staticClass:"plate-span"},[t._v(t._s(t.driverInfo.carInfo.vehicle_number))])])]),t._v(" "),n("div",{staticClass:"control"},[!1===t.tripStarted?n("span",{staticClass:"margin-top start"},[t._v("TRIP IS NOT STARTED")]):t._e(),t._v(" "),!0===t.tripStarted?n("span",{staticClass:"margin-top start started"},[t._v("TRIP HAS STARTED")]):t._e(),t._v(" "),!0===t.tripStarted?n("button",{staticClass:"margin-top cancel",on:{click:t.exit}},[t._v("\n        CANCEL TRIP\n      ")]):t._e()])]):t._e()])}),[],!1,null,"c46bfba4",null).exports},created:function(){this.getRideId},mounted:function(){var t=this;setTimeout((function(){t.socket=io("http://localhost:4005/trip",{reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,reconnectionAttempts:1/0}),t.socket.on("connect",(function(){console.log("connected")})),t.socket.emit("join_room",{token:JSON.parse(localStorage.data).token,num:JSON.parse(localStorage.data).phone_number}),t.socket.on("driverConnected",(function(data){var e=data;"driver"==e.driver.type&&(t.driverConnected=!0,t.driverInfo=e)})),t.socket.on("tokenExpired",(function(data){1==data&&(localStorage.clear(),t.$router.push({path:"/login"}))})),t.socket.on("disconnect",(function(){t.removeFromQueue,console.log("disconnected")}))}),200)},beforeDestroy:function(){this.socket.disconnect()}}),v=Object(o.a)(m,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[1==this.driverConnected?e("div",[e("DisplayDriverInfo",{attrs:{socket:this.socket,driverInfo:this.driverInfo}})],1):this._e(),this._v(" "),0==this.driverConnected?e("div",[e("Loading",{attrs:{sock:this.socket}})],1):this._e()])}),[],!1,null,null,null);e.default=v.exports}}]);